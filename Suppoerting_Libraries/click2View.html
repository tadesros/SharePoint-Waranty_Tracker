<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:mso="urn:schemas-microsoft-com:office:office"
  xmlns:msdt="uuid:C2F41010-65B3-11d1-A29F-00AA00C14882"
>
  <!-- Javascript Link Files -->
  <script
    type="text/javascript"
    src="http://rocsps/sites/GSTIntranet/PRODDEV/PDP_Request/SiteAssets/Supporting/jquery-3.5.1.min.js"
  ></script>

  <!-- CSS Files Links -->

  <head>
    <!-- Style Sheet CSS-->
    <style>
      /* HIDE THE CONTENT TYPE INFORMATION 
#part1 > table.ms-formtable > tbody:nth-child(1) > tr:nth-child(1)
{	
	 visibility: collapse;	
}

/* HIDE TASK STATUS 
#part1 > table.ms-formtable > tbody > tr:nth-child(6)
{	
	 visibility: collapse;	
}

/* HIDE TASK OUTCOME 
#ctl00_ctl41_g_c53fc407_833b_4245_88c3_8b0542ace567_ctl00_ctl13-bottom > tr:nth-child(3)
{	
	 visibility: collapse;	
}

input:read-only{	
	background-color: #FDFDFD;
	color: #B1B1B1;	
}
#AssignedTo_53101f38-dd2e-458c-b245-0c236cc13d1a_\$ClientPeoplePicker_i\:0\#\.w\|gstleather\\tom\.desrosiers_ProcessedUser0_DeleteUserLink
{
	
	visibility: collapse;
	
}

*/

      input[value="Approved"] {
        background-color: white;
        border-radius: 4px;
        border: 2px solid #4caf50;
        color: black;
        padding: 6px 10px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 14px;
        margin: 3px 2px;
        transition-duration: 0.4s;
        cursor: pointer;
      }

      input[value="Approved"]:hover {
        background-color: #4caf50;
        color: white;
      }

      input[value="Rejected"] {
        background-color: white;
        border-radius: 4px;
        border: 2px solid #f44336;
        color: black;
        padding: 6px 10px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 14px;
        margin: 3px 2px;
        transition-duration: 0.4s;
        cursor: pointer;
      }

      input[value="Rejected"]:hover {
        background-color: #f44336;
        color: white;
      }

      input[value="Save"] {
        background-color: white;
        border-radius: 4px;
        border: 2px solid #008cba;
        color: black;
        padding: 6px 10px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 14px;
        margin: 3px 2px;
        transition-duration: 0.4s;
        cursor: pointer;
      }

      input[value="Save"]:hover {
        background-color: #008cba;
        color: white;
      }

      input[value="Cancel"] {
        background-color: white;
        border-radius: 4px;
        border: 2px solid #555555;
        color: black;
        padding: 6px 10px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 14px;
        margin: 3px 2px;
        transition-duration: 0.4s;
        cursor: pointer;
      }

      input[value="Cancel"]:hover {
        background-color: #555555;
        color: white;
      }

      .ms-formlabel,
      .ms-standardheader {
        font-weight: bold;
        text-align: left;
        padding-right: 10px;
      }

      #onetidinfoblockV,
      #onetidinfoblock1,
      #onetidinfoblock2 {
        display: none;
      }

      #viewLink {
        font-size: 20px;
      }

      #linkDiv {
        float: right;
      }

      .botline {
        /*	margin-top:400px !important */
      }

      input[title="Task Name"] {
        pointer-events: none;
        opacity: 70%;
      }

      input[title="Assigned To"] {
        pointer-events: none;
      }

      .sp-peoplepicker-resolveList {
        pointer-events: none;
      }
    </style>
    <!-- Style Sheet End-->

    <title></title>
    <!--[if gte mso 9
      ]><xml>
        <mso:CustomDocumentProperties>
          <mso:_dlc_DocId msdt:dt="string"
            >MZFEWRP5J74X-628887702-3738</mso:_dlc_DocId
          >
          <mso:_dlc_DocIdItemGuid msdt:dt="string"
            >c29be4f6-6f35-4bf9-80d8-61d06ed88aeb</mso:_dlc_DocIdItemGuid
          >
          <mso:_dlc_DocIdUrl msdt:dt="string"
            >http://rocsps/sites/GSTIntranet/QUALITY/PSR/_layouts/15/DocIdRedir.aspx?ID=MZFEWRP5J74X-628887702-3738, MZFEWRP5J74X-628887702-3738</mso:_dlc_DocIdUrl
          >
          <mso:display_urn_x003a_schemas-microsoft-com_x003a_office_x003a_office_x0023_Editor
            msdt:dt="string"
            >Savich,
            Kevin</mso:display_urn_x003a_schemas-microsoft-com_x003a_office_x003a_office_x0023_Editor
          >
          <mso:display_urn_x003a_schemas-microsoft-com_x003a_office_x003a_office_x0023_Author
            msdt:dt="string"
            >Savich,
            Kevin</mso:display_urn_x003a_schemas-microsoft-com_x003a_office_x003a_office_x0023_Author
          >
        </mso:CustomDocumentProperties>
      </xml><!
    [endif]-->
  </head>

  <body>
    <!--HTML BODY Start---->

    <!--Link To Record-->
    <div class="test" id="linkDiv">
      <a id="viewLink">CLICK TO VIEW PURCHASING REQUEST DETAILS</a>
    </div>

    <!---JQUERY start---->
    <script type="text/javascript">
      $(".ms-core-listMenu-item:contains('Recent')").parent().hide();
      //Document Ready
      // jQuery(document).ready(function ($) {
      //Get String from Description Field
      // //Disable the people picker
      // $("input.sp-peoplepicker-editorInput[title='Assigned To']").prop(
      // 	"disabled",
      // 	true
      // );
      // $("div.sp-peoplepicker-topLevel[title='Assigned To']").addClass(
      // 	"sp-peoplepicker-topLevelDisabled"
      // );
      // $(":input[title='Task Outcome']").attr("disabled", true);
      // //Hide from the form.
      // $('td.ms-formlabel:contains("% Complete")').parent().hide();
      // $('td.ms-formlabel:contains("Priority")').parent().hide();
      // $('td.ms-formlabel:contains("Task Status")').parent().hide();
      // $('td.ms-formlabel:contains("Start Date")').parent().hide();
      // $('td.ms-formlabel:contains("Predecessors")').parent().hide();
      // $('td.ms-formlabel:contains("Due Date")').parent().hide();
      // $('td.ms-formlabel:contains("Content Type")').parent().hide();
      // $('td.ms-formlabel:contains("Description")').parent().hide();
      //}); // --End of JAVASCRIPT DOCUMENT READY----

      //	JavaScript Functions

      // //Function: getURL
      jQuery(document).ready(function ($) {
        //Disable and Hide values

        //Get URL and Set
        var recordUrl = setUrl();
        //Add Click Event
        let clickEl = document.getElementById("viewLink");
        //Attach event listener
        //	console.log("URL: " + recordUrl);
        clickEl.addEventListener("click", function () {
          clickDialog(recordUrl);
        });

        //Get List data
        // getListData();
        //Set Variables
        //setTable();
      });

      function setUrl() {
        //Get URL
        let recordId = document.querySelector('[title="ID"]').value;

        console.log(recordId);

        //    let idNum = taskTitle.split("-").pop();
        let urlValue =
          "http://rocsps/sites/GSTIntranet/SC/PRCHSNG/PurchaseRequest/Lists/Purchasing%20Request/DispForm.aspx?ID=" +
          recordId;

        //      recordNum = idNum;
        //      console.log("record Num " + idNum);

        return urlValue;
      }
      //FUNCTION: clickDialog
      function clickDialog(recordURL) {
        openDialog(recordURL);
      }
      //FUNCTION: openDialog
      function openDialog(pageUrl) {
        var options = {
          url: pageUrl,
          title: " ",
          allowMaximize: true,
          showClose: true,
          width: 726,
          height: 726,
        };
        SP.SOD.execute(
          "sp.ui.dialog.js",
          "SP.UI.ModalDialog.showModalDialog",
          options
        );
      }
    </script>
    <!-- END OF JAVASCRIPT -->
  </body>
  <!-- EMD HTML BODY-->
</html>
